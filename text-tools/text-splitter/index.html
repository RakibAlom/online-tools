<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Text Splitter - Free Online Text Separation Tool | EasyPro Tools</title>

  <!-- SEO Meta -->
  <meta name="description" content="Free online Text Splitter tool. Split text by delimiter, character, word count, or line breaks instantly. Perfect for data processing, CSV separation, and text segmentation. No registration required." />
  <meta name="keywords" content="text splitter, text splitter online, free text splitter, online text splitter, split text online, split text tool, text split tool, split text by delimiter, split text by character, split text by length, split text into lines, split text into paragraphs, split text by words, split text by comma, split text by space, split text generator, text separator tool, text divider online, break text online, chunk text online, text segmentation tool, text line splitter, split long text online, free online text splitter tool, bulk text splitter, text split utility, split string online, string splitter online, split text formatter, text processing tool online" />
  <meta name="author" content="EasyPro Tools" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://easyprotools.com/text-splitter/" />

  <!-- Open Graph Tags -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://easyprotools.com/text-splitter/" />
  <meta property="og:title" content="Text Splitter - Free Online Text Separation Tool" />
  <meta property="og:description" content="Split text by delimiter, character count, words, or lines instantly. Free, private, and no registration required." />
  <meta property="og:image" content="/assets/img/easypro-tools.jpg" />
  <meta property="og:site_name" content="EasyPro Tools" />

  <!-- Twitter Card Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:url" content="https://easyprotools.com/text-splitter/" />
  <meta name="twitter:title" content="Text Splitter - Free Online Text Separation Tool" />
  <meta name="twitter:description" content="Split text by delimiter, character count, words, or lines instantly. Free, private, and no registration required." />
  <meta name="twitter:image" content="/assets/img/easypro-tools.jpg" />

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/assets/img/easypro-tools-favicon.png" />
  <link rel="apple-touch-icon" href="/assets/img/easypro-tools-favicon.png" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          }
        }
      }
    }
  </script>
  
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #000000;
      color: #e5e5e5;
    }
    
    /* Pure black background */
    .bg-pure-black {
      background: #000000;
    }

    /* Glassmorphism panels - dark transparent */
    .glass-panel {
      background: rgba(20, 20, 20, 0.8);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.8);
    }
    
    .glass-input {
      background: rgba(10, 10, 10, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: #f5f5f5;
      transition: all 0.2s ease;
    }
    
    .glass-input:focus {
      background: rgba(5, 5, 5, 0.95);
      border-color: rgba(255, 255, 255, 0.3);
      box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.05);
      outline: none;
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    ::-webkit-scrollbar-track {
      background: rgba(0,0,0,0.5); 
    }
    ::-webkit-scrollbar-thumb {
      background: rgba(255,255,255,0.15); 
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: rgba(255,255,255,0.25); 
    }

    /* Method pills - neutral dark */
    .method-pill {
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      white-space: nowrap;
    }
    
    .method-pill:hover {
      transform: translateY(-1px);
      border-color: rgba(255, 255, 255, 0.3);
      background: rgba(255, 255, 255, 0.1);
    }
    
    .method-pill.active {
      background: rgba(255, 255, 255, 0.15);
      border-color: rgba(255, 255, 255, 0.4);
      color: #ffffff;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
    }

    /* Custom inputs */
    .custom-input {
      background: rgba(10, 10, 10, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: #ffffff;
      transition: all 0.2s ease;
    }
    
    .custom-input:focus {
      border-color: rgba(255, 255, 255, 0.4);
      box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.05);
      outline: none;
    }

    /* Toggle switches */
    .toggle-switch {
      position: relative;
      width: 36px;
      height: 20px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      cursor: pointer;
      transition: background 0.2s ease;
    }
    
    .toggle-switch.active {
      background: rgba(255, 255, 255, 0.3);
    }
    
    .toggle-switch::after {
      content: '';
      position: absolute;
      top: 2px;
      left: 2px;
      width: 16px;
      height: 16px;
      background: white;
      border-radius: 50%;
      transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    
    .toggle-switch.active::after {
      transform: translateX(16px);
    }

    /* Desktop 2-column layout */
    @media (min-width: 1024px) {
      .tool-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1.5rem;
      }
      
      .input-col, .output-col {
        min-height: 500px;
        display: flex;
        flex-direction: column;
      }
      
      .text-area-wrapper {
        flex: 1;
        display: flex;
        flex-direction: column;
      }
      
      .text-area-wrapper textarea {
        flex: 1;
        min-height: 0;
      }
    }

    /* Mobile layout */
    @media (max-width: 1023px) {
      .tool-grid {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }
    }

    /* Stats badge - neutral */
    .stat-badge {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: #aaaaaa;
    }

    /* Action buttons */
    .action-btn {
      transition: all 0.2s ease;
      position: relative;
      overflow: hidden;
    }
    
    .action-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.5);
      background: rgba(255, 255, 255, 0.1);
    }

    .action-btn-primary {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: #ffffff;
    }
    
    .action-btn-primary:hover {
      background: rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.3);
    }

    /* Mobile menu */
    #mobileMenu {
      transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out;
      max-height: 0;
      opacity: 0;
      overflow: hidden;
    }
    #mobileMenu.open {
      max-height: 500px;
      opacity: 1;
    }

    /* Article content */
    .article-content h2 {
      font-size: 1.75rem;
      font-weight: 700;
      margin-top: 2.5rem;
      margin-bottom: 1rem;
      color: #ffffff;
    }
    
    .article-content h3 {
      font-size: 1.35rem;
      font-weight: 600;
      margin-top: 1.5rem;
      margin-bottom: 0.75rem;
      color: #cccccc;
    }
    
    .article-content p {
      margin-bottom: 1rem;
      line-height: 1.8;
      color: #999999;
    }
    
    .article-content ul, .article-content ol {
      margin-bottom: 1rem;
      padding-left: 1.5rem;
      color: #999999;
    }
    
    .article-content li {
      margin-bottom: 0.5rem;
      line-height: 1.7;
    }

    /* FAQ */
    .faq-content {
      transition: max-height 0.3s ease, opacity 0.3s ease;
      max-height: 0;
      opacity: 0;
      overflow: hidden;
    }
    .faq-content.open {
      max-height: 500px;
      opacity: 1;
    }
    .faq-icon {
      transition: transform 0.3s ease;
    }
    .faq-icon.open {
      transform: rotate(180deg);
    }

    /* Glow text - white */
    .glow-text {
      text-shadow: 0 0 40px rgba(255, 255, 255, 0.15);
    }

    /* Progress bar */
    .progress-bar {
      background: rgba(255, 255, 255, 0.1);
      height: 4px;
      border-radius: 2px;
      overflow: hidden;
    }
    
    .progress-fill {
      background: rgba(255, 255, 255, 0.5);
      height: 100%;
      transition: width 0.3s ease;
    }

    /* Separator line */
    .separator {
      display: flex;
      align-items: center;
      text-align: center;
      color: #666;
      font-size: 0.875rem;
    }
    .separator::before, .separator::after {
      content: '';
      flex: 1;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .separator::before {
      margin-right: .5em;
    }
    .separator::after {
      margin-left: .5em;
    }
  </style>
</head>
<body class="bg-pure-black min-h-screen flex flex-col">

  <!-- Header -->
  <header class="glass-panel sticky top-0 z-40 border-b border-white/10">
    <div class="max-w-6xl mx-auto px-4">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center space-x-3">
          <svg class="w-8 h-8 sm:w-9 sm:h-9" viewBox="0 0 40 40" fill="none">
            <rect width="40" height="40" rx="10" fill="rgba(255,255,255,0.1)"/>
            <path d="M12 20h16M12 14h10M12 26h6" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
          </svg>
          <div>
            <h1 class="text-base sm:text-lg font-bold text-white">Text Splitter</h1>
            <p class="text-gray-500 text-xs hidden sm:block">Free Online Text Separation Tool</p>
          </div>
        </div>

        <nav class="hidden md:flex items-center space-x-6">
          <a href="https://easyprotools.com/" class="text-sm text-gray-400 hover:text-white transition-colors flex items-center gap-1.5">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
            Home
          </a>
          <a href="https://easyprotools.com/" class="text-sm text-gray-400 hover:text-white transition-colors flex items-center gap-1.5">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"/></svg>
            All Tools
          </a>
        </nav>

        <button id="mobileMenuBtn" class="md:hidden p-2 rounded-lg hover:bg-white/10 text-gray-400 transition-colors">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
        </button>
      </div>
    </div>

    <div id="mobileMenu" class="md:hidden border-t border-white/10 bg-black/95 backdrop-blur-xl">
      <div class="px-4 py-4 space-y-3">
        <a href="https://easyprotools.com/" class="block px-3 py-2 rounded-md text-sm font-medium text-gray-400 hover:text-white hover:bg-white/10 flex items-center gap-2 transition-colors">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
          Home
        </a>
        <a href="https://easyprotools.com/" class="block px-3 py-2 rounded-md text-sm font-medium text-gray-400 hover:text-white hover:bg-white/10 flex items-center gap-2 transition-colors">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"/></svg>
          All Tools
        </a>
      </div>
    </div>
  </header>

  <!-- Banner -->
  <section class="py-6 sm:py-8 px-4">
    <div class="max-w-6xl mx-auto text-center">
      <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-3 text-white glow-text">
        Text Splitter
      </h1>
      <p class="text-gray-500 text-base sm:text-lg">
        Online Free Text Separation & Division Tool
      </p>
    </div>
  </section>

  <!-- Main Content -->
  <main class="flex-grow max-w-6xl mx-auto px-4 pb-16 w-full">

    <!-- Tool Interface -->
    <div class="glass-panel rounded-2xl p-4 sm:p-6 mb-6">
      
      <!-- Settings Bar -->
      <div class="mb-4 flex flex-wrap items-center gap-3 bg-black/40 rounded-xl p-3 border border-white/5">
        
        <!-- Split Method Tabs -->
        <div class="flex bg-black/50 rounded-lg p-1 shrink-0">
          <button class="method-pill active px-3 py-1.5 rounded-md border border-white/10 bg-white/5 text-xs font-medium text-gray-300 flex items-center gap-1.5 transition-all" data-method="delimiter">
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
            Delimiter
          </button>
          <button class="method-pill px-3 py-1.5 rounded-md border border-white/10 bg-white/5 text-xs font-medium text-gray-300 flex items-center gap-1.5 transition-all" data-method="length">
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"/></svg>
            Length
          </button>
          <button class="method-pill px-3 py-1.5 rounded-md border border-white/10 bg-white/5 text-xs font-medium text-gray-300 flex items-center gap-1.5 transition-all" data-method="regex">
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/></svg>
            Regex
          </button>
        </div>

        <div class="h-6 w-px bg-white/10 hidden sm:block"></div>

        <!-- Delimiter Options -->
        <div id="delimiterOptions" class="flex flex-wrap gap-1.5 items-center flex-1 min-w-0">
          <span class="text-xs text-gray-600 mr-1 shrink-0">Split by:</span>
          <button class="method-pill active px-2.5 py-1 rounded-md border border-white/10 bg-white/5 text-xs text-gray-300" data-delimiter="newline">New Line</button>
          <button class="method-pill px-2.5 py-1 rounded-md border border-white/10 bg-white/5 text-xs text-gray-300" data-delimiter="comma">Comma</button>
          <button class="method-pill px-2.5 py-1 rounded-md border border-white/10 bg-white/5 text-xs text-gray-300" data-delimiter="space">Space</button>
          <button class="method-pill px-2.5 py-1 rounded-md border border-white/10 bg-white/5 text-xs text-gray-300" data-delimiter="pipe">|</button>
          <button class="method-pill px-2.5 py-1 rounded-md border border-white/10 bg-white/5 text-xs text-gray-300" data-delimiter="tab">Tab</button>
          <button class="method-pill px-2.5 py-1 rounded-md border border-white/10 bg-white/5 text-xs text-gray-300" data-delimiter="custom">Custom</button>
          
          <input type="text" id="customDelimiter" placeholder="..." class="custom-input px-2 py-1 rounded-md text-xs w-20 hidden" maxlength="10">
        </div>

        <!-- Length Options (Hidden by default) -->
        <div id="lengthOptions" class="hidden flex flex-wrap gap-1.5 items-center flex-1 min-w-0">
          <span class="text-xs text-gray-600 mr-1 shrink-0">Chunk size:</span>
          <input type="number" id="chunkSize" value="100" min="1" max="10000" class="custom-input px-2 py-1 rounded-md text-xs w-20">
          <span class="text-xs text-gray-600">chars</span>
          <div class="flex items-center gap-1.5 ml-2">
            <span class="text-xs text-gray-600">Overlap:</span>
            <input type="number" id="chunkOverlap" value="0" min="0" max="100" class="custom-input px-2 py-1 rounded-md text-xs w-16">
          </div>
        </div>

        <!-- Regex Options (Hidden by default) -->
        <div id="regexOptions" class="hidden flex flex-wrap gap-1.5 items-center flex-1 min-w-0">
          <span class="text-xs text-gray-600 mr-1 shrink-0">Pattern:</span>
          <input type="text" id="regexPattern" placeholder="\n\s*\n" value="\n\s*\n" class="custom-input px-2 py-1 rounded-md text-xs w-32 font-mono">
          <span class="text-xs text-gray-600 ml-1">(e.g. \n\n for paragraphs)</span>
        </div>

        <div class="h-6 w-px bg-white/10 hidden md:block"></div>

        <!-- Toggles & Clear -->
        <div class="flex items-center gap-3 shrink-0">
          <div class="flex items-center gap-1.5" title="Remove empty results">
            <span class="text-xs text-gray-600">Skip empty</span>
            <div class="toggle-switch active" id="removeEmptyToggle"></div>
          </div>
          
          <div class="flex items-center gap-1.5" title="Trim whitespace">
            <span class="text-xs text-gray-600">Trim</span>
            <div class="toggle-switch active" id="trimToggle"></div>
          </div>

          <button id="clearBtn" class="action-btn p-1.5 rounded-md bg-white/5 hover:bg-white/10 text-gray-400 border border-white/10 transition-all" title="Clear all">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
          </button>
        </div>
      </div>

      <!-- 2-Column Layout -->
      <div class="tool-grid">
        <!-- Input Column -->
        <div class="input-col">
          <div class="flex items-center justify-between mb-2">
            <div class="flex items-center gap-2">
              <div class="w-7 h-7 rounded-lg bg-white/10 flex items-center justify-center">
                <svg class="w-3.5 h-3.5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"/></svg>
              </div>
              <span class="text-xs font-medium text-gray-300">Input Text</span>
            </div>
            <div class="flex items-center gap-2">
              <span id="inputStats" class="stat-badge px-2 py-0.5 rounded text-xs font-medium">0 chars</span>
              <button id="loadSampleBtn" class="text-xs text-gray-400 hover:text-white transition-colors flex items-center gap-1">
                <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
                Sample
              </button>
            </div>
          </div>
          
          <div class="text-area-wrapper">
            <textarea id="inputText" class="w-full h-64 lg:h-auto p-3 rounded-xl glass-input text-sm leading-relaxed resize-none font-mono" placeholder="Paste or type your text here to split...&#10;Example: apple,banana,cherry (for comma split)&#10;Or long text for length-based chunking"></textarea>
          </div>

          <!-- File Upload -->
          <div class="mt-2">
            <div id="dropZone" class="border-2 border-dashed border-white/10 rounded-xl p-3 text-center hover:border-white/30 hover:bg-white/5 transition-all cursor-pointer flex flex-col items-center justify-center group">
              <input type="file" id="fileInput" accept=".txt,.csv,.md,.log,.json" class="hidden">
              <div class="flex items-center gap-2 text-gray-500 group-hover:text-gray-400">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/></svg>
                <span class="text-xs">Drop file or click to upload (TXT, CSV, MD, JSON)</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Output Column -->
        <div class="output-col">
          <div class="flex items-center justify-between mb-2">
            <div class="flex items-center gap-2">
              <div class="w-7 h-7 rounded-lg bg-white/10 flex items-center justify-center">
                <svg class="w-3.5 h-3.5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"/></svg>
              </div>
              <span class="text-xs font-medium text-gray-300">Split Result</span>
            </div>
            <div class="flex items-center gap-2">
              <span id="outputStats" class="stat-badge px-2 py-0.5 rounded text-xs font-medium">0 parts</span>
            </div>
          </div>
          
          <div class="text-area-wrapper relative">
            <textarea id="outputText" readonly class="w-full h-64 lg:h-auto p-3 rounded-xl glass-input text-sm leading-relaxed resize-none font-mono bg-black/60" placeholder="Split results will appear here..."></textarea>
            
            <!-- Floating Action Buttons -->
            <div class="absolute bottom-3 right-3 flex gap-2">
              <button id="copyBtn" class="action-btn p-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-400 border border-white/10 transition-all" title="Copy to clipboard">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"/></svg>
              </button>
              <button id="downloadBtn" class="action-btn p-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-400 border border-white/10 transition-all" title="Download as file">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg>
              </button>
            </div>
          </div>
          
          <!-- Progress Bar -->
          <div id="progressContainer" class="hidden mt-2">
            <div class="progress-bar">
              <div id="progressFill" class="progress-fill" style="width: 0%"></div>
            </div>
            <p id="progressText" class="text-xs text-gray-600 mt-1 text-center">Processing...</p>
          </div>
        </div>
      </div>

      <!-- Action Bar -->
      <div class="mt-4 flex flex-wrap gap-2 justify-center">
        <button id="splitBtn" class="action-btn action-btn-primary px-8 py-2.5 rounded-lg font-medium text-sm flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"/></svg>
          Split Text
        </button>
      </div>
    </div>

    <!-- Features Section -->
    <section class="mb-16">
      <h2 class="text-2xl md:text-3xl font-bold text-center mb-10 text-white glow-text">
        Powerful Text Splitting Features
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-5">
        <div class="glass-panel rounded-xl p-6 hover:border-white/20 transition-all duration-300 group">
          <div class="w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center mb-4 group-hover:bg-white/10 transition-colors">
            <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
          </div>
          <h3 class="text-lg font-semibold mb-2 text-white">Multiple Split Methods</h3>
          <p class="text-gray-500 text-sm leading-relaxed">Split by delimiters (comma, space, newline, custom), fixed character length with optional overlap, or advanced regex patterns. Choose the method that fits your data structure perfectly.</p>
        </div>
        
        <div class="glass-panel rounded-xl p-6 hover:border-white/20 transition-all duration-300 group">
          <div class="w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center mb-4 group-hover:bg-white/10 transition-colors">
            <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"/></svg>
          </div>
          <h3 class="text-lg font-semibold mb-2 text-white">Bulk File Processing</h3>
          <p class="text-gray-500 text-sm leading-relaxed">Upload TXT, CSV, MD, LOG, or JSON files up to 5MB. Process multiple files simultaneously and download results instantly. Perfect for large datasets.</p>
        </div>
        
        <div class="glass-panel rounded-xl p-6 hover:border-white/20 transition-all duration-300 group">
          <div class="w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center mb-4 group-hover:bg-white/10 transition-colors">
            <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg>
          </div>
          <h3 class="text-lg font-semibold mb-2 text-white">100% Private & Secure</h3>
          <p class="text-gray-500 text-sm leading-relaxed">All text processing happens entirely in your browser. Your data never leaves your device, ensuring complete privacy for sensitive information and confidential documents.</p>
        </div>
      </div>
    </section>

    <!-- How to Use -->
    <section class="mb-16">
      <h2 class="text-2xl md:text-3xl font-bold text-center mb-10 text-white glow-text">
        How It Works
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <div class="glass-panel rounded-xl p-5 text-center relative">
          <div class="absolute -top-3 left-1/2 -translate-x-1/2 w-6 h-6 rounded-full bg-white/20 text-white text-xs font-bold flex items-center justify-center border border-white/20">1</div>
          <p class="text-gray-400 text-sm mt-2">Choose your split method: Delimiter, Length, or Regex pattern</p>
        </div>
        <div class="glass-panel rounded-xl p-5 text-center relative">
          <div class="absolute -top-3 left-1/2 -translate-x-1/2 w-6 h-6 rounded-full bg-white/20 text-white text-xs font-bold flex items-center justify-center border border-white/20">2</div>
          <p class="text-gray-400 text-sm mt-2">Enter or paste your text, or upload a file for processing</p>
        </div>
        <div class="glass-panel rounded-xl p-5 text-center relative">
          <div class="absolute -top-3 left-1/2 -translate-x-1/2 w-6 h-6 rounded-full bg-white/20 text-white text-xs font-bold flex items-center justify-center border border-white/20">3</div>
          <p class="text-gray-400 text-sm mt-2">Configure options like skip empty results and trim whitespace</p>
        </div>
        <div class="glass-panel rounded-xl p-5 text-center relative">
          <div class="absolute -top-3 left-1/2 -translate-x-1/2 w-6 h-6 rounded-full bg-white/20 text-white text-xs font-bold flex items-center justify-center border border-white/20">4</div>
          <p class="text-gray-400 text-sm mt-2">Click Split Text and copy or download your results instantly</p>
        </div>
      </div>
    </section>

    <!-- Article Section -->
    <section class="mb-16">
      <article class="glass-panel rounded-2xl p-6 md:p-10 article-content">
        <h2>The Complete Guide to Text Splitting: Master Text Separation for Data Processing</h2>
        
        <p><strong>Text splitting</strong> is a fundamental operation in data processing, content management, and software development. Whether you need to <strong>split text by delimiter</strong> for CSV processing, <strong>split text by character</strong> count for chunking large documents, or use advanced patterns to <strong>break text online</strong> into meaningful segments, understanding text splitting techniques is essential for modern digital workflows.</p>

        <h2>What is Text Splitting and Why Does It Matter?</h2>
        
        <p><strong>Text splitting</strong>, also known as text segmentation or string splitting, is the process of dividing a continuous block of text into smaller, discrete parts based on specific criteria. At its core, a <strong>text splitter</strong> identifies boundaries within text—whether those boundaries are characters like commas and spaces, fixed lengths, or complex patterns—and separates the content at those points.</p>

        <h2>Understanding Different Text Splitting Methods</h2>

        <h3>Delimiter-Based Splitting</h3>
        <p>The most common approach uses <strong>delimiters</strong>—specific characters that mark where text should be divided. When you <strong>split text by comma</strong>, you're using the comma as a delimiter to separate values, which is the foundation of CSV processing. Similarly, you can <strong>split text by space</strong> to separate words, <strong>split text by pipe</strong> for database exports, or use tabs for TSV files.</p>

        <h3>Length-Based Chunking</h3>
        <p>Another essential method divides text based on character count. When you <strong>split text by length</strong> or <strong>split text by character</strong> count, you create chunks of approximately equal size. This is crucial for processing large documents that exceed AI model token limits or creating SMS-friendly message segments.</p>

        <h3>Regex Pattern Splitting</h3>
        <p>For complex requirements, regular expressions provide unmatched power. A <strong>text segmentation tool</strong> with regex capabilities can <strong>split text into paragraphs</strong> by matching double newlines, separate content by semantic boundaries, or extract specific patterns.</p>

        <h2>Practical Applications</h2>

        <h3>Data Processing and CSV Manipulation</h3>
        <p>Data professionals constantly need to <strong>split text by delimiter</strong> when working with structured data. CSV files often use various separators including commas, semicolons, tabs, or pipes. A versatile <strong>text separator tool</strong> can handle all these variations.</p>

        <h3>Content Management</h3>
        <p>Content creators use <strong>split text online</strong> tools for various publishing workflows. Breaking long-form articles into social media posts, segmenting newsletter content by topic, or preparing book manuscripts by chapter—all require reliable text splitting.</p>

        <h3>AI and Machine Learning</h3>
        <p>Modern AI applications require careful text segmentation. When documents exceed model context windows, you must <strong>split text by length</strong> with intelligent overlap to maintain semantic continuity. This process is fundamental to Retrieval-Augmented Generation (RAG) architectures.</p>

        <h2>Best Practices</h2>
        <ul>
          <li>Choose appropriate delimiters that don't appear within your actual data content</li>
          <li>Handle edge cases by enabling "Skip empty" and "Trim" options</li>
          <li>Preserve context with overlap when using length-based splitting for AI applications</li>
          <li>Validate output structure to ensure logical coherence</li>
          <li>Test with sample data before processing large datasets</li>
        </ul>

        <h2>Privacy and Security</h2>
        <p>When splitting sensitive text, privacy is paramount. Browser-based <strong>free text splitter</strong> tools that process data client-side offer complete privacy. Your text never leaves your device, eliminating data breach risks.</p>

        <h2>Conclusion</h2>
        <p>Whether you need to <strong>split text by comma</strong> for spreadsheet data, <strong>split text by space</strong> for word analysis, or <strong>split text by character</strong> count for AI processing, modern tools make it effortless. Our Text Splitter combines all these capabilities in an elegant, real-time interface that respects your privacy.</p>
      </article>
    </section>

    <!-- FAQ Section -->
    <section class="mb-16">
      <h2 class="text-2xl md:text-3xl font-bold text-center mb-10 text-white glow-text">
        Frequently Asked Questions
      </h2>
      <div class="space-y-3" id="faqContainer">
        <div class="glass-panel rounded-xl overflow-hidden">
          <button class="faq-toggle w-full p-5 text-left flex items-center justify-between hover:bg-white/5 transition-colors" onclick="toggleFaq(this)">
            <span class="font-medium text-gray-300">What is the difference between delimiter and length-based splitting?</span>
            <svg class="faq-icon w-5 h-5 text-gray-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div class="faq-content px-5">
            <p class="text-gray-500 text-sm pb-5 leading-relaxed"><strong>Delimiter splitting</strong> divides text at specific characters (like commas, spaces), ideal for structured data. <strong>Length-based splitting</strong> creates chunks of equal character count, essential for AI processing or character-limited platforms.</p>
          </div>
        </div>

        <div class="glass-panel rounded-xl overflow-hidden">
          <button class="faq-toggle w-full p-5 text-left flex items-center justify-between hover:bg-white/5 transition-colors" onclick="toggleFaq(this)">
            <span class="font-medium text-gray-300">How does chunk overlap work?</span>
            <svg class="faq-icon w-5 h-5 text-gray-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div class="faq-content px-5">
            <p class="text-gray-500 text-sm pb-5 leading-relaxed">Overlap ensures consecutive text segments share content, maintaining context. With 500-character chunks and 50-character overlap, chunks share 50 characters. This is crucial for AI applications where context improves accuracy.</p>
          </div>
        </div>

        <div class="glass-panel rounded-xl overflow-hidden">
          <button class="faq-toggle w-full p-5 text-left flex items-center justify-between hover:bg-white/5 transition-colors" onclick="toggleFaq(this)">
            <span class="font-medium text-gray-300">Can I use regular expressions?</span>
            <svg class="faq-icon w-5 h-5 text-gray-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div class="faq-content px-5">
            <p class="text-gray-500 text-sm pb-5 leading-relaxed">Yes, our tool supports regex patterns. Use <code>\n\n</code> for paragraphs, <code>\s+</code> for any whitespace, or custom patterns like HTML tags for advanced segmentation.</p>
          </div>
        </div>

        <div class="glass-panel rounded-xl overflow-hidden">
          <button class="faq-toggle w-full p-5 text-left flex items-center justify-between hover:bg-white/5 transition-colors" onclick="toggleFaq(this)">
            <span class="font-medium text-gray-300">What file formats are supported?</span>
            <svg class="faq-icon w-5 h-5 text-gray-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div class="faq-content px-5">
            <p class="text-gray-500 text-sm pb-5 leading-relaxed">We support TXT, CSV, MD, LOG, and JSON files up to 5MB each. Upload multiple files simultaneously and process them together.</p>
          </div>
        </div>

        <div class="glass-panel rounded-xl overflow-hidden">
          <button class="faq-toggle w-full p-5 text-left flex items-center justify-between hover:bg-white/5 transition-colors" onclick="toggleFaq(this)">
            <span class="font-medium text-gray-300">Is my data secure?</span>
            <svg class="faq-icon w-5 h-5 text-gray-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div class="faq-content px-5">
            <p class="text-gray-500 text-sm pb-5 leading-relaxed">Absolutely. All processing happens in your browser using JavaScript. Your text never leaves your device or is transmitted to servers, ensuring complete privacy.</p>
          </div>
        </div>

        <div class="glass-panel rounded-xl overflow-hidden">
          <button class="faq-toggle w-full p-5 text-left flex items-center justify-between hover:bg-white/5 transition-colors" onclick="toggleFaq(this)">
            <span class="font-medium text-gray-300">Is there a text size limit?</span>
            <svg class="faq-icon w-5 h-5 text-gray-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div class="faq-content px-5">
            <p class="text-gray-500 text-sm pb-5 leading-relaxed">No artificial limits for direct input—process millions of characters. Browser memory constraints apply (typically ~50MB). File uploads limited to 5MB per file, but multiple files allowed.</p>
          </div>
        </div>

        <div class="glass-panel rounded-xl overflow-hidden">
          <button class="faq-toggle w-full p-5 text-left flex items-center justify-between hover:bg-white/5 transition-colors" onclick="toggleFaq(this)">
            <span class="font-medium text-gray-300">How do I split by custom delimiters?</span>
            <svg class="faq-icon w-5 h-5 text-gray-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div class="faq-content px-5">
            <p class="text-gray-500 text-sm pb-5 leading-relaxed">Select "Delimiter" method, click "Custom", and enter any character or string (up to 10 characters). Perfect for specialized separators like " | " or "###".</p>
          </div>
        </div>

        <div class="glass-panel rounded-xl overflow-hidden">
          <button class="faq-toggle w-full p-5 text-left flex items-center justify-between hover:bg-white/5 transition-colors" onclick="toggleFaq(this)">
            <span class="font-medium text-gray-300">Is this tool free?</span>
            <svg class="faq-icon w-5 h-5 text-gray-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div class="faq-content px-5">
            <p class="text-gray-500 text-sm pb-5 leading-relaxed">Yes, completely free. No registration, no usage limits, no watermarks. Use it for personal or commercial projects without restrictions.</p>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="border-t border-white/10 bg-black/60 backdrop-blur-lg mt-8">
    <div class="max-w-6xl mx-auto px-4 py-6 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-600">
      <p>&copy; <span id="currentYear"></span> <a href="https://easyprotools.com/" class="text-gray-500 hover:text-white transition-colors">EasyPro Tools</a>. All rights reserved.</p>
      <div class="flex gap-6">
        <a href="https://easyprotools.com/" class="hover:text-white transition-colors">Home</a>
        <a href="https://easyprotools.com/" class="hover:text-white transition-colors">All Tools</a>
      </div>
    </div>
  </footer>

<script>
// DOM Elements
const inputText = document.getElementById('inputText');
const outputText = document.getElementById('outputText');
const inputStats = document.getElementById('inputStats');
const outputStats = document.getElementById('outputStats');
const splitBtn = document.getElementById('splitBtn');
const clearBtn = document.getElementById('clearBtn');
const copyBtn = document.getElementById('copyBtn');
const downloadBtn = document.getElementById('downloadBtn');
const loadSampleBtn = document.getElementById('loadSampleBtn');
const mobileMenuBtn = document.getElementById('mobileMenuBtn');
const mobileMenu = document.getElementById('mobileMenu');
const dropZone = document.getElementById('dropZone');
const fileInput = document.getElementById('fileInput');
const progressContainer = document.getElementById('progressContainer');
const progressFill = document.getElementById('progressFill');
const progressText = document.getElementById('progressText');

// Method and delimiter elements
const methodPills = document.querySelectorAll('.method-pill[data-method]');
const delimiterOptions = document.getElementById('delimiterOptions');
const lengthOptions = document.getElementById('lengthOptions');
const regexOptions = document.getElementById('regexOptions');
const delimiterPills = document.querySelectorAll('.method-pill[data-delimiter]');
const customDelimiter = document.getElementById('customDelimiter');
const chunkSize = document.getElementById('chunkSize');
const chunkOverlap = document.getElementById('chunkOverlap');
const regexPattern = document.getElementById('regexPattern');
const removeEmptyToggle = document.getElementById('removeEmptyToggle');
const trimToggle = document.getElementById('trimToggle');

let currentMethod = 'delimiter';
let currentDelimiter = '\n';
let removeEmpty = true;
let trimWhitespace = true;

// Set current year
document.getElementById('currentYear').textContent = new Date().getFullYear();

// Mobile Menu
mobileMenuBtn.addEventListener('click', () => {
  mobileMenu.classList.toggle('open');
});

document.addEventListener('click', (e) => {
  if (!mobileMenuBtn.contains(e.target) && !mobileMenu.contains(e.target)) {
    mobileMenu.classList.remove('open');
  }
});

// Method switching
methodPills.forEach(pill => {
  pill.addEventListener('click', () => {
    methodPills.forEach(p => p.classList.remove('active'));
    pill.classList.add('active');
    
    currentMethod = pill.dataset.method;
    
    // Show/hide appropriate options
    delimiterOptions.classList.add('hidden');
    lengthOptions.classList.add('hidden');
    regexOptions.classList.add('hidden');
    
    if (currentMethod === 'delimiter') {
      delimiterOptions.classList.remove('hidden');
    } else if (currentMethod === 'length') {
      lengthOptions.classList.remove('hidden');
    } else if (currentMethod === 'regex') {
      regexOptions.classList.remove('hidden');
    }
  });
});

// Delimiter selection
delimiterPills.forEach(pill => {
  pill.addEventListener('click', () => {
    delimiterPills.forEach(p => p.classList.remove('active'));
    pill.classList.add('active');
    
    const delimType = pill.dataset.delimiter;
    
    if (delimType === 'custom') {
      customDelimiter.classList.remove('hidden');
      currentDelimiter = customDelimiter.value || '';
      customDelimiter.focus();
    } else {
      customDelimiter.classList.add('hidden');
      
      switch(delimType) {
        case 'newline': currentDelimiter = '\n'; break;
        case 'comma': currentDelimiter = ','; break;
        case 'space': currentDelimiter = ' '; break;
        case 'pipe': currentDelimiter = '|'; break;
        case 'tab': currentDelimiter = '\t'; break;
      }
    }
  });
});

// Custom delimiter input
customDelimiter.addEventListener('input', () => {
  if (document.querySelector('.method-pill[data-delimiter].active')?.dataset.delimiter === 'custom') {
    currentDelimiter = customDelimiter.value;
  }
});

// Toggle switches
removeEmptyToggle.addEventListener('click', () => {
  removeEmptyToggle.classList.toggle('active');
  removeEmpty = removeEmptyToggle.classList.contains('active');
});

trimToggle.addEventListener('click', () => {
  trimToggle.classList.toggle('active');
  trimWhitespace = trimToggle.classList.contains('active');
});

// Input stats update
inputText.addEventListener('input', () => {
  const text = inputText.value;
  inputStats.textContent = `${text.length.toLocaleString()} char${text.length !== 1 ? 's' : ''}`;
});

// Load sample text
loadSampleBtn.addEventListener('click', () => {
  const samples = {
    delimiter: `apple,banana,cherry,date,elderberry,fig,grape`,
    length: `This is a sample text that demonstrates length-based splitting. When you split by character count, the text is divided into chunks of approximately equal size. This is particularly useful for processing large documents that exceed AI model token limits, creating SMS-friendly message segments, or preparing content for platforms with character restrictions. The overlap feature ensures that context isn't lost between chunks, which is crucial for maintaining semantic continuity in AI applications.`,
    regex: `Paragraph one. This is the first section of text.

Paragraph two. This is the second section with different content.

Paragraph three. This is the third section demonstrating paragraph splitting.`
  };
  
  inputText.value = samples[currentMethod] || samples.delimiter;
  inputStats.textContent = `${inputText.value.length.toLocaleString()} chars`;
});

// File handling
dropZone.addEventListener('click', () => fileInput.click());

dropZone.addEventListener('dragover', (e) => {
  e.preventDefault();
  dropZone.classList.add('border-white/30', 'bg-white/5');
});

dropZone.addEventListener('dragleave', () => {
  dropZone.classList.remove('border-white/30', 'bg-white/5');
});

dropZone.addEventListener('drop', (e) => {
  e.preventDefault();
  dropZone.classList.remove('border-white/30', 'bg-white/5');
  handleFiles(Array.from(e.dataTransfer.files));
});

fileInput.addEventListener('change', (e) => {
  handleFiles(Array.from(e.target.files));
});

function handleFiles(files) {
  const validFiles = files.filter(f => 
    f.size <= 5 * 1024 * 1024 && 
    /\.(txt|csv|md|log|json)$/i.test(f.name)
  );
  
  if (validFiles.length === 0) {
    alert('Please upload valid files (TXT, CSV, MD, LOG, JSON) under 5MB');
    return;
  }
  
  showProgress(0, 'Reading files...');
  
  Promise.all(validFiles.map((file, index) => {
    return new Promise((resolve) => {
      const reader = new FileReader();
      reader.onload = (e) => {
        showProgress(((index + 1) / validFiles.length) * 50, `Reading ${file.name}...`);
        resolve(e.target.result);
      };
      reader.readAsText(file);
    });
  })).then(contents => {
    showProgress(75, 'Processing...');
    inputText.value = contents.join('\n\n');
    inputStats.textContent = `${inputText.value.length.toLocaleString()} chars`;
    hideProgress();
    performSplit();
  });
}

function showProgress(percent, text) {
  progressContainer.classList.remove('hidden');
  progressFill.style.width = `${percent}%`;
  progressText.textContent = text;
}

function hideProgress() {
  setTimeout(() => {
    progressContainer.classList.add('hidden');
  }, 500);
}

// Main split function
function performSplit() {
  const text = inputText.value;
  if (!text.trim()) {
    outputText.value = '';
    outputStats.textContent = '0 parts';
    return;
  }
  
  showProgress(30, 'Splitting text...');
  
  setTimeout(() => {
    try {
      let results = [];
      
      if (currentMethod === 'delimiter') {
        results = splitByDelimiter(text, currentDelimiter);
      } else if (currentMethod === 'length') {
        const size = parseInt(chunkSize.value) || 100;
        const overlap = parseInt(chunkOverlap.value) || 0;
        results = splitByLength(text, size, overlap);
      } else if (currentMethod === 'regex') {
        const pattern = regexPattern.value || '\\n\\s*\\n';
        results = splitByRegex(text, pattern);
      }
      
      showProgress(80, 'Processing results...');
      
      // Apply filters
      if (trimWhitespace) {
        results = results.map(r => r.trim());
      }
      
      if (removeEmpty) {
        results = results.filter(r => r.length > 0);
      }
      
      // Display results in textarea with separators
      const separator = '\n\n' + '='.repeat(40) + '\n\n';
      outputText.value = results.join(separator);
      outputStats.textContent = `${results.length} part${results.length !== 1 ? 's' : ''}`;
      
      showProgress(100, 'Complete!');
      hideProgress();
      
    } catch (error) {
      hideProgress();
      alert('Error splitting text: ' + error.message);
    }
  }, 100);
}

function splitByDelimiter(text, delimiter) {
  if (!delimiter) return [text];
  
  // Escape special regex characters for literal splitting
  const escaped = delimiter.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
  const regex = new RegExp(escaped, 'g');
  return text.split(regex);
}

function splitByLength(text, length, overlap) {
  if (length <= 0) return [text];
  
  const results = [];
  let start = 0;
  
  while (start < text.length) {
    const end = Math.min(start + length, text.length);
    results.push(text.slice(start, end));
    start += length - overlap;
    
    if (start >= end) break;
  }
  
  return results;
}

function splitByRegex(text, pattern) {
  try {
    const regex = new RegExp(pattern, 'g');
    return text.split(regex);
  } catch (e) {
    throw new Error('Invalid regex pattern: ' + e.message);
  }
}

// Copy output
copyBtn.addEventListener('click', async () => {
  const text = outputText.value;
  if (!text) return;
  
  try {
    await navigator.clipboard.writeText(text);
    const originalHTML = copyBtn.innerHTML;
    copyBtn.innerHTML = `<svg class="w-4 h-4 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>`;
    setTimeout(() => {
      copyBtn.innerHTML = originalHTML;
    }, 1500);
  } catch (err) {
    console.error('Copy failed', err);
  }
});

// Download output
downloadBtn.addEventListener('click', () => {
  const text = outputText.value;
  if (!text) return;
  
  const blob = new Blob([text], { type: 'text/plain' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'split-results.txt';
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
});

// Split button
splitBtn.addEventListener('click', performSplit);

// Clear button
clearBtn.addEventListener('click', () => {
  inputText.value = '';
  outputText.value = '';
  inputStats.textContent = '0 chars';
  outputStats.textContent = '0 parts';
  fileInput.value = '';
});

// FAQ Toggle
window.toggleFaq = function(button) {
  const content = button.nextElementSibling;
  const icon = button.querySelector('.faq-icon');
  content.classList.toggle('open');
  icon.classList.toggle('open');
};

// Initialize
inputStats.textContent = '0 chars';
outputStats.textContent = '0 parts';
</script>
</body>
</html>